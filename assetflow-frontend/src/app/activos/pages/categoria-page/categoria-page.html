<div class="page-header">
Â  Â  <h2>AssetFlow - GestiÃ³n de CategorÃ­as</h2>
Â  Â  <button 
Â  Â  Â  Â  class="btn btn-primary" 
Â  Â  Â  Â  (click)="abrirFormularioCreacion()"
Â  Â  Â  Â  [disabled]="cargando">
Â  Â  Â  Â  <span>â•</span> Nueva CategorÃ­a
Â  Â  </button>
</div>

<div *ngIf="cargando" class="loading-overlay">
Â  Â  <div class="spinner"></div>
Â  Â  <p>Cargando categorÃ­as...</p>
</div>

<div *ngIf="errorCarga" class="alert alert-danger">
Â  Â  <strong>âš ï¸ Error de ConexiÃ³n</strong>
Â  Â  <p>No se pudo conectar con la API de CategorÃ­as. {{ errorCarga.message }}</p>
Â  Â  <button class="btn btn-sm btn-outline-danger" (click)="recargarCategorias()">
Â  Â  Â  Â  ğŸ”„ Reintentar
Â  Â  </button>
</div>

<div 
Â  Â  *ngIf="mensajeUsuario" 
Â  Â  class="alert"
Â  Â  [ngClass]="{
Â  Â  Â  'alert-success': tipoMensaje === 'success',
Â  Â  Â  'alert-danger': tipoMensaje === 'error',
Â  Â  Â  'alert-info': tipoMensaje === 'info'
Â  Â  }"
Â  Â  role="alert">
Â  Â  <span 
Â  Â  Â  class="close-btn" 
Â  Â  Â  (click)="cerrarMensaje()"
Â  Â  Â  title="Cerrar">
Â  Â  Â  âœ•
Â  Â  </span>
Â  Â  <div style="white-space: pre-line;">{{ mensajeUsuario }}</div>
</div>

<div *ngIf="categorias$ | async as categorias; else cargandoTemplate">
Â  Â  
Â  Â  Â  Â  <div *ngIf="categorias.length === 0 && !cargando" class="empty-state">
Â  Â  Â  Â  <div class="empty-icon">ğŸ“‚</div>
Â  Â  Â  Â  <h3>No hay categorÃ­as registradas</h3>
Â  Â  Â  Â  <p>Comience agregando su primera categorÃ­a.</p>
Â  Â  Â  Â  <button class="btn btn-primary" (click)="abrirFormularioCreacion()">
Â  Â  Â  Â  Â  Â  â• Crear Primera CategorÃ­a
Â  Â  Â  Â  </button>
Â  Â  </div>

Â  Â  Â  Â  <div *ngIf="categorias.length > 0" class="categorias-container">
Â  Â  Â  Â  
Â  Â  Â  Â  <app-lista-tabla 
Â  Â  Â  Â  Â  Â  [datos]="categorias"
Â  Â  Â  Â  Â  Â  (itemEliminado)="manejarEliminacion($event)"
Â  Â  Â  Â  Â  Â  (itemEditado)="manejarEdicion($event)">
Â  Â  Â  Â  </app-lista-tabla>

Â  Â  </div>
</div>

<ng-template #cargandoTemplate>
Â  Â  <div class="loading-placeholder">
Â  Â  Â  Â  <div class="skeleton-row" *ngFor="let item of [1,2,3,4,5]"></div>
Â  Â  </div>
</ng-template>

<div *ngIf="mostrarFormulario" class="modal-overlay" (click)="cerrarFormulario()">
Â  Â  <div class="modal-content" (click)="$event.stopPropagation()">
Â  Â  Â  Â  <div class="modal-header">
Â  Â  Â  Â  Â  Â  <h3>{{ modoEdicion ? 'Editar CategorÃ­a: ' + categoriaAEditar?.nombre : 'Nueva CategorÃ­a' }}</h3>
Â  Â  Â  Â  Â  Â  <button class="close-btn" (click)="cerrarFormulario()">âœ•</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="modal-body">
            Â  Â  Â  Â  Â  Â  <app-categoria-form
                [categoriaInicial]="categoriaAEditar"
                (categoriaGuardada)="manejarGuardado($event)"
                (cancelar)="cerrarFormulario()">
            </app-categoria-form>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>