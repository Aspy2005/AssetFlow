<form [formGroup]="activoForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
        <label for="nombre">Nombre del Activo *</label>
        <input 
            id="nombre" 
            type="text" 
            formControlName="nombre" 
            class="form-control"
            placeholder="Ej: Laptop Dell XPS 15">
        
        <div *ngIf="controls['nombre'].invalid && (controls['nombre'].dirty || controls['nombre'].touched)" class="text-danger">
            <small *ngIf="controls['nombre'].errors?.['required']">El nombre es obligatorio.</small>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6">
            <label for="categoria">Categoría *</label>
            <select 
                id="categoria" 
                formControlName="categoria" 
                class="form-control">
                <option value="" disabled>Seleccione una categoría</option>
                <option 
                    *ngFor="let cat of categorias" 
                    [value]="cat.id">
                    {{ cat.nombre }}
                </option>
            </select>
            <div *ngIf="controls['categoria'].invalid && (controls['categoria'].dirty || controls['categoria'].touched)" class="text-danger">
                <small>La categoría es obligatoria.</small>
            </div>
        </div>

        <div class="form-group col-md-6">
            <label for="estado">Estado *</label>
            <select 
                id="estado" 
                formControlName="estado" 
                class="form-control">
                <option 
                    *ngFor="let estado of estados" 
                    [value]="estado.value">
                    {{ estado.label }}
                </option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6">
            <label for="fecha_adquisicion">Fecha de Adquisición *</label>
            <input 
                id="fecha_adquisicion" 
                type="date" 
                formControlName="fecha_adquisicion" 
                class="form-control">
            <div *ngIf="controls['fecha_adquisicion'].invalid && (controls['fecha_adquisicion'].dirty || controls['fecha_adquisicion'].touched)" class="text-danger">
                <small>La fecha es obligatoria.</small>
            </div>
        </div>

        <div class="form-group col-md-6">
            <label for="valor_inicial">Valor Inicial (USD) *</label>
            <input 
                id="valor_inicial" 
                type="number" 
                step="0.01"
                formControlName="valor_inicial" 
                class="form-control"
                placeholder="0.00">
            <div *ngIf="controls['valor_inicial'].invalid && (controls['valor_inicial'].dirty || controls['valor_inicial'].touched)" class="text-danger">
                <small *ngIf="controls['valor_inicial'].errors?.['required']">El valor es obligatorio.</small>
                <small *ngIf="controls['valor_inicial'].errors?.['min']">El valor debe ser positivo.</small>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6">
            <label for="numero_serie">Número de Serie</label>
            <input 
                id="numero_serie" 
                type="text" 
                formControlName="numero_serie" 
                class="form-control"
                placeholder="Ej: SN123456789">
        </div>

        <div class="form-group col-md-6">
            <label for="ubicacion">Ubicación</label>
            <input 
                id="ubicacion" 
                type="text" 
                formControlName="ubicacion" 
                class="form-control"
                placeholder="Ej: Oficina 201, Piso 2">
        </div>
    </div>

    <div class="form-group">
        <label for="responsable">Responsable</label>
        <input 
            id="responsable" 
            type="text" 
            formControlName="responsable" 
            class="form-control"
            placeholder="Ej: Juan Pérez - Departamento de TI">
    </div>
    
    <div class="form-group">
        <label for="descripcion">Descripción / Notas</label>
        <textarea 
            id="descripcion" 
            formControlName="descripcion" 
            class="form-control"
            rows="3"
            placeholder="Detalles adicionales, especificaciones técnicas, o notas importantes."></textarea>
    </div>

    <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancelar</button>
        <button type="submit" class="btn btn-primary" [disabled]="activoForm.invalid">
            {{ modoEdicion ? 'Guardar Cambios' : 'Crear Activo' }}
        </button>
    </div>

</form>
